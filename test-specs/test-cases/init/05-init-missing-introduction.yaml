# 测试用例：缺少 introduction 参数
name: "缺少项目介绍参数测试"
description: "测试缺少必需的 introduction 参数时的错误处理"
category: "init"
priority: "high"

setup:
  fixtures: null
  target: "./e2e-test-init-missing-param2"
  cleanup: ["./e2e-test-init-missing-param2"]

request:
  method: "tools/call"
  params:
    name: "specs-workflow"
    arguments:
      path: "./e2e-test-init-missing-param2"
      action:
        type: "init"
        featureName: "测试功能"
        # 缺少 introduction

expect:
  operation: "init"
  error: true
  error_checks:
    - type: "error_message"
      contains: "introduction"
      description: "错误消息应该提到缺少 introduction"
    - type: "error_message"
      contains: "requires"
      description: "错误消息应该说明这是必需参数"
    - type: "no_files_created"
      path: "./e2e-test-init-missing-param2"
      description: "不应该创建任何文件"

cleanup: ["./e2e-test-init-missing-param2"]