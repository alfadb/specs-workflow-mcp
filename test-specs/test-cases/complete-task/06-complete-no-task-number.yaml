# 测试用例：未提供任务号
name: "未提供任务号"
description: "测试调用 complete_task 但未提供任务号参数"
category: "complete-task"
priority: "high"

setup:
  fixtures: "fixtures/complete-task/tasks-stage"
  target: "./e2e-test-complete-no-number"

request:
  method: "tools/call"
  params:
    name: "specs-workflow"
    arguments:
      path: "./e2e-test-complete-no-number"
      action:
        type: "complete_task"
        # 故意不提供 taskNumber

expect:
  operation: "complete_task"
  error: true  # 期望错误响应
  error_checks:
    - type: "error_message"
      contains: "taskNumber"
      description: "错误信息应该提到缺少 taskNumber 参数"

cleanup: ["./e2e-test-complete-no-number"]